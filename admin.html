<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ğŸŒˆ RainbowKidz Admin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    :root {
      --bg:#f2f2f7; --card:#fff; --text:#1c1c1e; --sub:#6e6e73; --border:#e5e5ea;
      --blue:#007aff; --green:#34c759; --orange:#ff9f0a; --red:#ff3b30; --purple:#af52de;
      --radius:16px;
    }
    body { font-family:'Noto Sans KR',-apple-system,sans-serif; background:var(--bg); color:var(--text); min-height:100vh; }
    .hidden { display:none !important; }

    /* ===== ë¹„ë°€ë²ˆí˜¸ ê²Œì´íŠ¸ ===== */
    #pwGate { position:fixed; inset:0; background:#fff; display:flex; align-items:center; justify-content:center; z-index:9999; }
    .pw-box { text-align:center; padding:40px 32px; max-width:360px; width:90%; }
    .pw-logo { font-size:52px; margin-bottom:16px; }
    .pw-title { font-size:22px; font-weight:900; margin-bottom:6px; }
    .pw-sub { font-size:14px; color:var(--sub); margin-bottom:28px; }
    .pw-input { width:100%; padding:14px 18px; border:2px solid var(--border); border-radius:14px; font-size:18px; text-align:center; letter-spacing:4px; margin-bottom:14px; font-family:inherit; }
    .pw-input:focus { outline:none; border-color:var(--text); }
    .pw-btn { width:100%; padding:14px; background:var(--text); color:#fff; border:none; border-radius:14px; font-size:16px; font-weight:800; cursor:pointer; font-family:inherit; }
    .pw-error { margin-top:10px; font-size:13px; color:var(--red); min-height:18px; }

    /* ===== í—¤ë” ===== */
    .header { background:var(--card); border-bottom:1px solid var(--border); position:sticky; top:0; z-index:100; }
    .header-inner { max-width:980px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; justify-content:space-between; }
    .logo { display:flex; align-items:center; gap:8px; }
    .logo-emoji { font-size:26px; }
    .logo-main { font-size:18px; font-weight:900; }
    .logo-badge { padding:3px 10px; background:var(--red); color:#fff; border-radius:20px; font-size:11px; font-weight:800; }
    .logout-btn { padding:7px 14px; border:1px solid var(--border); border-radius:20px; background:var(--bg); font-size:12px; color:var(--sub); cursor:pointer; font-family:inherit; }

    /* ===== ì»¨í…Œì´ë„ˆ ===== */
    .container { max-width:980px; margin:0 auto; padding:16px 16px 80px; }

    /* ===== ê¸€ë¡œë²Œ ë„êµ¬ ì¹´ë“œ ===== */
    .tools { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:16px; }
    .tool-card { flex:1; min-width:260px; background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:16px; }
    .tool-title { font-size:14px; font-weight:900; margin-bottom:10px; }
    .input, .textarea, .select { width:100%; padding:10px 12px; border:1.5px solid var(--border); border-radius:10px; font-size:14px; font-family:inherit; margin-bottom:8px; }
    .textarea { min-height:80px; resize:vertical; line-height:1.6; }
    .input:focus, .textarea:focus, .select:focus { outline:none; border-color:var(--blue); }

    /* ===== ë²„íŠ¼ ===== */
    .btn { padding:10px 16px; border-radius:10px; border:none; cursor:pointer; font-size:13px; font-weight:900; font-family:inherit; display:inline-flex; align-items:center; gap:6px; transition:opacity .15s; }
    .btn:active { opacity:.75; }
    .btn:disabled { opacity:.5; cursor:not-allowed; }
    .btn-ghost { background:var(--bg); color:var(--text); border:1px solid var(--border); }
    .btn-blue { background:var(--blue); color:#fff; }
    .btn-green { background:var(--green); color:#fff; }
    .btn-purple { background:var(--purple); color:#fff; }
    .btn-red { background:var(--red); color:#fff; }
    .btn-sm { padding:7px 12px; font-size:12px; }

    /* ===== ìƒíƒœ ë°” ===== */
    .status { display:none; padding:10px 12px; border-radius:10px; font-size:13px; margin-top:8px; }
    .status.show { display:block; }
    .status.info { background:#dbeafe; color:#1e40af; }
    .status.success { background:#d1fae5; color:#065f46; }
    .status.error { background:#fee2e2; color:#991b1b; }

    /* ===== ìºë¦­í„° ê·¸ë¦¬ë“œ ===== */
    .list-head { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
    .search-input { flex:1; padding:10px 14px; border:1.5px solid var(--border); border-radius:10px; font-size:14px; font-family:inherit; }
    .search-input:focus { outline:none; border-color:var(--blue); }
    .char-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; }
    @media (min-width:520px) { .char-grid { grid-template-columns:repeat(6,1fr); } }
    @media (min-width:720px) { .char-grid { grid-template-columns:repeat(8,1fr); } }
    .char-tile { background:var(--card); border:1.5px solid var(--border); border-radius:14px; padding:10px 8px; cursor:pointer; text-align:center; transition:border-color .15s; }
    .char-tile:hover { border-color:var(--blue); }
    .char-emoji { font-size:26px; }
    .char-name { font-size:11px; font-weight:900; color:var(--sub); margin-top:4px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
    .char-group { font-size:10px; color:var(--sub); opacity:.8; margin-top:1px; }

    /* ===== ê²Œì‹œê¸€ ê´€ë¦¬ ëª©ë¡ ===== */
    .manage-item { display:flex; align-items:flex-start; gap:10px; background:var(--bg); border-radius:12px; padding:10px; margin-bottom:8px; }
    .manage-emoji { font-size:22px; flex-shrink:0; }
    .manage-info { flex:1; min-width:0; }
    .manage-title { font-size:13px; font-weight:700; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
    .manage-meta { font-size:11px; color:var(--sub); margin-top:2px; }
    .manage-del { padding:6px 10px; background:var(--red); color:#fff; border:none; border-radius:8px; font-size:11px; font-weight:700; cursor:pointer; font-family:inherit; flex-shrink:0; }

    /* ===== í”„ë¡œí•„ íŒ¨ë„ (ì˜¤ë²„ë ˆì´) ===== */
    .overlay { position:fixed; inset:0; background:rgba(0,0,0,.45); display:flex; align-items:flex-end; justify-content:center; z-index:2000; padding:10px; }
    .panel { width:100%; max-width:720px; background:var(--card); border-radius:20px; max-height:92vh; overflow-y:auto; border:1px solid var(--border); }
    .panel-head { position:sticky; top:0; background:var(--card); border-bottom:1px solid var(--border); padding:12px 16px; display:flex; align-items:center; gap:10px; border-radius:20px 20px 0 0; }
    .panel-emoji { font-size:28px; }
    .panel-name { font-size:16px; font-weight:900; }
    .panel-sub { font-size:12px; color:var(--sub); }
    .panel-close { margin-left:auto; border:none; background:var(--bg); border:1px solid var(--border); border-radius:12px; padding:8px 12px; cursor:pointer; font-weight:900; font-family:inherit; font-size:13px; }
    .panel-body { padding:14px; }

    /* ì„¹ì…˜ */
    .section { background:var(--bg); border:1px solid var(--border); border-radius:14px; padding:14px; margin-bottom:12px; }
    .section-title { font-size:13px; font-weight:900; margin-bottom:10px; }
    .row2 { display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:8px; }
    .row3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin-bottom:8px; }
    @media (max-width:480px) { .row2,.row3 { grid-template-columns:1fr; } }
    .field label { font-size:11px; font-weight:700; color:var(--sub); display:block; margin-bottom:4px; }
    .field .input, .field .select { margin-bottom:0; }

    /* ì´ë¯¸ì§€ */
    .avatar-wrap { width:72px; height:72px; border-radius:18px; background:var(--card); border:1px solid var(--border); display:flex; align-items:center; justify-content:center; font-size:34px; overflow:hidden; flex-shrink:0; }
    .avatar-wrap img { width:100%; height:100%; object-fit:cover; border-radius:18px; }

    /* í¬ìŠ¤íŠ¸ í”¼ì»¤ */
    .postpick { max-height:200px; overflow-y:auto; display:flex; flex-direction:column; gap:6px; margin-bottom:10px; }
    .postitem { background:var(--card); border:1.5px solid var(--border); border-radius:10px; padding:10px; cursor:pointer; transition:border-color .15s; }
    .postitem.selected { border-color:var(--blue); }
    .postitem-title { font-size:13px; font-weight:700; }
    .postitem-meta { font-size:11px; color:var(--sub); margin-top:2px; }

    /* ìŠ¤í”¼ë„ˆ */
    .spin { display:inline-block; width:13px; height:13px; border:2px solid rgba(255,255,255,.4); border-top-color:#fff; border-radius:50%; animation:spn .8s linear infinite; }
    @keyframes spn { to { transform:rotate(360deg); } }
  </style>
</head>
<body>

<!-- ë¹„ë°€ë²ˆí˜¸ ê²Œì´íŠ¸ -->
<div id="pwGate">
  <div class="pw-box">
    <div class="pw-logo">ğŸŒˆ</div>
    <div class="pw-title">ê´€ë¦¬ì ë¡œê·¸ì¸</div>
    <div class="pw-sub">RainbowKidz ê´€ë¦¬ì ì „ìš© í˜ì´ì§€</div>
    <input type="password" class="pw-input" id="pwInput" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" autocomplete="current-password" aria-label="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸">
    <button class="pw-btn" onclick="checkPw()">ì…ì¥í•˜ê¸°</button>
    <div class="pw-error" id="pwError"></div>
  </div>
</div>

<!-- í—¤ë” -->
<div class="header">
  <div class="header-inner">
    <div class="logo">
      <span class="logo-emoji">ğŸŒˆ</span>
      <span class="logo-main">ë¬´ì§€ê°œ</span>
      <span class="logo-badge">ADMIN</span>
    </div>
    <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
  </div>
</div>

<div class="container">
  <!-- ê¸€ë¡œë²Œ ë„êµ¬ -->
  <div class="tools">
    <!-- ê³µì§€ì‚¬í•­ -->
    <div class="tool-card">
      <div class="tool-title">ğŸ“Œ ê³µì§€ì‚¬í•­ (ì„ ìƒë‹˜ ëª…ì˜)</div>
      <input class="input" id="noticeTitle" placeholder="ê³µì§€ ì œëª©" aria-label="ê³µì§€ ì œëª©">
      <textarea class="textarea" id="noticeBody" placeholder="ê³µì§€ ë‚´ìš©..." aria-label="ê³µì§€ ë‚´ìš©"></textarea>
      <button class="btn btn-blue" onclick="publishNotice()">ë“±ë¡</button>
      <div class="status" id="noticeStatus"></div>
    </div>

    <!-- ê²Œì‹œê¸€ ê´€ë¦¬ -->
    <div class="tool-card">
      <div class="tool-title">ğŸ“‹ ê²Œì‹œê¸€ ê´€ë¦¬</div>
      <button class="btn btn-ghost btn-sm" onclick="loadManagePosts()" style="margin-bottom:10px;">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
      <div id="manageList"><div style="color:var(--sub);font-size:13px;">ë¡œë”© ì¤‘...</div></div>
      <div class="status" id="manageStatus"></div>
    </div>
  </div>

  <!-- ìºë¦­í„° ê·¸ë¦¬ë“œ -->
  <div class="list-head">
    <input class="search-input" id="charSearch" placeholder="ìºë¦­í„° ê²€ìƒ‰..." oninput="renderGrid()" aria-label="ìºë¦­í„° ê²€ìƒ‰">
    <button class="btn btn-ghost btn-sm" onclick="reloadAll()">ì „ì²´ ìƒˆë¡œê³ ì¹¨</button>
  </div>
  <div class="char-grid" id="charGrid"></div>
</div>

<!-- í”„ë¡œí•„ íŒ¨ë„ ì˜¤ë²„ë ˆì´ -->
<div id="overlay" class="overlay hidden" onclick="handleOverlay(event)">
  <div class="panel" onclick="event.stopPropagation()">
    <div class="panel-head">
      <div class="panel-emoji" id="pEmoji">ğŸ™‚</div>
      <div>
        <div class="panel-name" id="pName">ìºë¦­í„°</div>
        <div class="panel-sub" id="pSub"></div>
      </div>
      <button class="panel-close" onclick="closePanel()">âœ• ë‹«ê¸°</button>
    </div>
    <div class="panel-body">

      <!-- ì´ë¯¸ì§€ -->
      <div class="section">
        <div class="section-title">ğŸ–¼ï¸ í”„ë¡œí•„ ì´ë¯¸ì§€</div>
        <div style="display:flex;align-items:center;gap:14px;">
          <div class="avatar-wrap" id="pAvatar">ğŸ™‚</div>
          <div style="flex:1;">
            <div style="font-size:12px;color:var(--sub);margin-bottom:10px;">Supabase Storageì— ì €ì¥ë©ë‹ˆë‹¤</div>
            <input type="file" id="pImgFile" accept="image/*" style="display:none;" onchange="uploadImage()" aria-label="ì´ë¯¸ì§€ íŒŒì¼">
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <button class="btn btn-blue btn-sm" onclick="document.getElementById('pImgFile').click()">ğŸ“¸ ì—…ë¡œë“œ</button>
            </div>
            <div class="status" id="pImgStatus"></div>
          </div>
        </div>
      </div>

      <!-- ìºë¦­í„° ì •ë³´ -->
      <div class="section">
        <div class="section-title">ğŸ‘¥ ìºë¦­í„° ì •ë³´</div>

        <div class="row2">
          <div class="field"><label>ì´ë¦„ (display_name)</label><input class="input" id="fName" aria-label="ì´ë¦„"></div>
          <div class="field"><label>ì´ëª¨ì§€</label><input class="input" id="fEmoji" aria-label="ì´ëª¨ì§€"></div>
        </div>
        <div class="row3">
          <div class="field">
            <label>ì†Œì†</label>
            <select class="select" id="fGroup" aria-label="ì†Œì†">
              <option value="kindergarten">ìœ ì¹˜ì›</option>
              <option value="daycare">ì–´ë¦°ì´ì§‘</option>
              <option value="teacher">ì„ ìƒë‹˜</option>
            </select>
          </div>
          <div class="field"><label>ì„±ë³„ (ììœ  ì…ë ¥)</label><input class="input" id="fGender" placeholder="ì˜ˆ: female, ê³ ì..." aria-label="ì„±ë³„"></div>
          <div class="field"><label>MBTI</label><input class="input" id="fMbti" placeholder="ì˜ˆ: ENFP" aria-label="MBTI"></div>
        </div>
        <div class="row2">
          <div class="field"><label>ë™ë¬¼ì¢…ë¥˜ (animal_type)</label><input class="input" id="fAnimal" aria-label="ë™ë¬¼ì¢…ë¥˜"></div>
          <div class="field"><label>íŠ¹ì§• (personality)</label><input class="input" id="fPersonality" aria-label="íŠ¹ì§•"></div>
        </div>
        <div class="row2">
          <div class="field"><label>ìƒë…„ì›”ì¼ (birthday)</label><input class="input" type="date" id="fBirthday" aria-label="ìƒë…„ì›”ì¼"></div>
          <div class="field"><label>ë‚˜ì´ (age)</label><input class="input" type="number" id="fAge" placeholder="3" min="0" max="20" aria-label="ë‚˜ì´"></div>
        </div>
        <div class="row2">
          <div class="field"><label>ì¢‹ì•„í•˜ëŠ” ê²ƒ (likes)</label><input class="input" id="fLikes" aria-label="ì¢‹ì•„í•˜ëŠ” ê²ƒ"></div>
          <div class="field"><label>ì‹«ì–´í•˜ëŠ” ê²ƒ (dislikes)</label><input class="input" id="fDislikes" aria-label="ì‹«ì–´í•˜ëŠ” ê²ƒ"></div>
        </div>
        <div class="row2">
          <div class="field"><label>ì·¨ë¯¸ (hobby)</label><input class="input" id="fHobby" aria-label="ì·¨ë¯¸"></div>
          <div class="field"><label>ë¹„ë°€ (secret)</label><input class="input" id="fSecret" aria-label="ë¹„ë°€"></div>
        </div>
        <div class="field" style="margin-bottom:12px;">
          <label>ë§íˆ¬ íŒíŠ¸ (speech_style) â€” AI ìƒì„±ì— ì‚¬ìš©</label>
          <input class="input" id="fSpeech" placeholder="ì˜ˆ: ë°ê³  ì¥ë‚œê¸° ë§ì€ ë§íˆ¬, ë¯¼ì´ˆ ë•í›„" aria-label="ë§íˆ¬ íŒíŠ¸">
        </div>
        <div style="display:flex;gap:8px;">
          <button class="btn btn-green" id="btnSave" onclick="saveProfile()">ğŸ’¾ ì €ì¥</button>
          <button class="btn btn-ghost btn-sm" onclick="resetForm()">ë˜ëŒë¦¬ê¸°</button>
        </div>
        <div class="status" id="pSaveStatus"></div>
      </div>

      <!-- AI ê²Œì‹œê¸€ -->
      <div class="section">
        <div class="section-title">ğŸ¤– AI ê²Œì‹œê¸€ ìƒì„±</div>
        <div style="font-size:12px;color:var(--sub);margin-bottom:10px;">ì„ íƒëœ ìºë¦­í„° ë§íˆ¬ë¡œ Geminiê°€ ê¸€ì„ ìƒì„±í•©ë‹ˆë‹¤</div>
        <input class="input" id="aiTitle" placeholder="ì œëª© (15ì ê¶Œì¥)" aria-label="ê²Œì‹œê¸€ ì œëª©">
        <textarea class="textarea" id="aiBody" placeholder="ë³¸ë¬¸ (3~6ë¬¸ì¥ ê¶Œì¥)" aria-label="ê²Œì‹œê¸€ ë³¸ë¬¸"></textarea>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn btn-purple" id="btnGenPost" onclick="generatePost()">âœ¨ ìƒì„±</button>
          <button class="btn btn-green" id="btnPubPost" onclick="publishPost()">ğŸ“¤ ê²Œì‹œ</button>
          <button class="btn btn-ghost btn-sm" onclick="clearPost()">ì´ˆê¸°í™”</button>
        </div>
        <div class="status" id="aiPostStatus"></div>
      </div>

      <!-- AI ëŒ“ê¸€ -->
      <div class="section">
        <div class="section-title">ğŸ’¬ AI ëŒ“ê¸€ ìƒì„±</div>
        <div style="font-size:12px;color:var(--sub);margin-bottom:8px;">ê²Œì‹œê¸€ì„ ì„ íƒí•˜ê³  ì„ íƒëœ ìºë¦­í„° ë§íˆ¬ë¡œ ëŒ“ê¸€ì„ ìƒì„±/ê²Œì‹œí•©ë‹ˆë‹¤</div>
        <div class="postpick" id="postPicker"></div>
        <textarea class="textarea" id="aiComment" placeholder="ëŒ“ê¸€ ë‚´ìš©..." style="min-height:60px;" aria-label="ëŒ“ê¸€ ë‚´ìš©"></textarea>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn btn-purple" id="btnGenComment" onclick="generateComment()">âœ¨ ëŒ“ê¸€ ìƒì„±</button>
          <button class="btn btn-green" id="btnPubComment" onclick="publishComment()">ğŸ“¤ ëŒ“ê¸€ ê²Œì‹œ</button>
          <button class="btn btn-ghost btn-sm" onclick="document.getElementById('aiComment').value=''">ì´ˆê¸°í™”</button>
        </div>
        <div class="status" id="aiCommentStatus"></div>
      </div>

    </div>
  </div>
</div>

<script>
  const API = 'https://rainbowkidz-api.irunaru.workers.dev/api/v1';
  const ADMIN_KEY = 'yimkim1221';
  const PW = 'yimkim1221';

  let characters = [], cachedFeed = [], selectedChar = null, selectedPostId = null;

  // ===== ë¹„ë°€ë²ˆí˜¸ =====
  function checkPw() {
    if (document.getElementById('pwInput').value === PW) {
      document.getElementById('pwGate').classList.add('hidden');
      sessionStorage.setItem('rk_admin', '1');
      init();
    } else {
      document.getElementById('pwError').textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ì–´ìš”';
      document.getElementById('pwInput').value = '';
      document.getElementById('pwInput').focus();
      setTimeout(() => document.getElementById('pwError').textContent = '', 2000);
    }
  }
  function logout() { sessionStorage.removeItem('rk_admin'); location.reload(); }
  document.getElementById('pwInput').addEventListener('keypress', e => { if (e.key === 'Enter') checkPw(); });
  document.addEventListener('keydown', e => { if (e.key === 'Escape') closePanel(); });
  if (sessionStorage.getItem('rk_admin') === '1') {
    document.getElementById('pwGate').classList.add('hidden');
    window.addEventListener('DOMContentLoaded', init);
  }

  // ===== í—¬í¼ =====
  const esc = s => String(s??'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
  const groupLabel = g => g==='kindergarten'?'ìœ ì¹˜ì›':g==='daycare'?'ì–´ë¦°ì´ì§‘':'ì„ ìƒë‹˜';
  const relTime = d => {
    const s = (Date.now()-new Date(d))/1000;
    if(s<60)return 'ë°©ê¸ˆ'; if(s<3600)return `${Math.floor(s/60)}ë¶„ ì „`;
    if(s<86400)return `${Math.floor(s/3600)}ì‹œê°„ ì „`; return `${Math.floor(s/86400)}ì¼ ì „`;
  };

  function showStatus(id, msg, type='info') {
    const el = document.getElementById(id);
    el.textContent = msg;
    el.className = `status show ${type}`;
    if (type !== 'info') setTimeout(() => el.classList.remove('show'), 4000);
  }

  async function adminFetch(path, opts={}) {
    const headers = new Headers(opts.headers||{});
    headers.set('X-Admin-Key', ADMIN_KEY);
    if (!(opts.body instanceof FormData) && !headers.has('Content-Type'))
      headers.set('Content-Type', 'application/json');
    return fetch(API + path, {...opts, headers});
  }

  // ===== ì´ˆê¸°í™” =====
  async function init() {
    await loadCharacters();
    renderGrid();
    await Promise.all([loadManagePosts(), loadFeed()]);
  }

  async function reloadAll() {
    await loadCharacters();
    renderGrid();
    await Promise.all([loadManagePosts(), loadFeed()]);
    if (selectedChar) openPanel(selectedChar.id);
  }

  async function loadCharacters() {
    try {
      const r = await fetch(API + '/characters');
      if (r.ok) { const d = await r.json(); characters = d.characters || []; }
    } catch {}
    if (!characters.length) characters = MOCK_CHARS;
  }

  async function loadFeed(limit=30) {
    try {
      const r = await fetch(API + `/feed?limit=${limit}`);
      const d = await r.json();
      cachedFeed = d.posts || [];
    } catch { cachedFeed = []; }
  }

  // ===== ìºë¦­í„° ê·¸ë¦¬ë“œ =====
  function renderGrid() {
    const q = (document.getElementById('charSearch').value||'').toLowerCase();
    const filtered = characters.filter(c => {
      const h = `${c.display_name} ${c.group_type} ${c.mbti||''} ${c.animal_type||''}`.toLowerCase();
      return !q || h.includes(q);
    });
    document.getElementById('charGrid').innerHTML = filtered.map(c => `
      <div class="char-tile" onclick="openPanel(${c.id})">
        <div class="char-emoji">${c.emoji||'ğŸ™‚'}</div>
        <div class="char-name">${esc(c.display_name)}</div>
        <div class="char-group">${groupLabel(c.group_type)} Â· ${esc(c.mbti||'')}</div>
      </div>`).join('');
  }

  // ===== íŒ¨ë„ =====
  function handleOverlay(e) { if (e.target.id === 'overlay') closePanel(); }
  function closePanel() {
    document.getElementById('overlay').classList.add('hidden');
    selectedChar = null; selectedPostId = null;
  }

  async function openPanel(charId) {
    const c = characters.find(x => x.id == charId);
    if (!c) return;
    selectedChar = c; selectedPostId = null;

    document.getElementById('pEmoji').textContent = c.emoji||'ğŸ™‚';
    document.getElementById('pName').textContent = c.display_name;
    document.getElementById('pSub').textContent = `${groupLabel(c.group_type)} Â· ${c.animal_type||''} Â· ${c.mbti||''}`;

    // ì•„ë°”íƒ€
    const av = document.getElementById('pAvatar');
    av.innerHTML = c.image_url ? `<img src="${esc(c.image_url)}" alt="" onerror="this.parentElement.innerHTML='${esc(c.emoji||'ğŸ™‚')}'">` : (c.emoji||'ğŸ™‚');

    fillForm(c);
    clearPost();
    document.getElementById('aiComment').value = '';
    ['pImgStatus','pSaveStatus','aiPostStatus','aiCommentStatus'].forEach(id => {
      const el = document.getElementById(id);
      el.textContent = ''; el.className = 'status';
    });

    await loadFeed(30);
    renderPostPicker();

    document.getElementById('overlay').classList.remove('hidden');
    document.getElementById('fName').focus();
  }

  function fillForm(c) {
    document.getElementById('fName').value        = c.display_name||'';
    document.getElementById('fEmoji').value       = c.emoji||'';
    document.getElementById('fGroup').value       = c.group_type||'kindergarten';
    document.getElementById('fGender').value      = c.gender||'';
    document.getElementById('fMbti').value        = c.mbti||'';
    document.getElementById('fAnimal').value      = c.animal_type||'';
    document.getElementById('fPersonality').value = c.personality||'';
    document.getElementById('fBirthday').value    = c.birthday||'';
    document.getElementById('fAge').value         = c.age||'';
    document.getElementById('fLikes').value       = c.likes||'';
    document.getElementById('fDislikes').value    = c.dislikes||'';
    document.getElementById('fHobby').value       = c.hobby||'';
    document.getElementById('fSecret').value      = c.secret||'';
    document.getElementById('fSpeech').value      = c.speech_style||'';
  }

  function resetForm() { if (selectedChar) { fillForm(selectedChar); showStatus('pSaveStatus','ë˜ëŒë ¸ìŠµë‹ˆë‹¤','info'); } }

  // ===== ì €ì¥ =====
  async function saveProfile() {
    if (!selectedChar) return;
    const fields = {
      display_name: document.getElementById('fName').value.trim(),
      emoji:        document.getElementById('fEmoji').value.trim(),
      group_type:   document.getElementById('fGroup').value,
      gender:       document.getElementById('fGender').value.trim(),
      mbti:         document.getElementById('fMbti').value.trim(),
      animal_type:  document.getElementById('fAnimal').value.trim(),
      personality:  document.getElementById('fPersonality').value.trim(),
      birthday:     document.getElementById('fBirthday').value || null,
      age:          document.getElementById('fAge').value ? Number(document.getElementById('fAge').value) : null,
      likes:        document.getElementById('fLikes').value.trim(),
      dislikes:     document.getElementById('fDislikes').value.trim(),
      hobby:        document.getElementById('fHobby').value.trim(),
      secret:       document.getElementById('fSecret').value.trim(),
      speech_style: document.getElementById('fSpeech').value.trim(),
    };
    const btn = document.getElementById('btnSave');
    btn.disabled = true; btn.innerHTML = '<span class="spin"></span> ì €ì¥ì¤‘';
    showStatus('pSaveStatus','ì €ì¥ ì¤‘...','info');
    try {
      const r = await adminFetch(`/admin/characters/${selectedChar.id}`,{method:'PATCH',body:JSON.stringify(fields)});
      const d = await r.json();
      if (d.ok) {
        Object.assign(selectedChar, fields);
        document.getElementById('pEmoji').textContent = fields.emoji||'ğŸ™‚';
        document.getElementById('pName').textContent = fields.display_name;
        document.getElementById('pSub').textContent = `${groupLabel(fields.group_type)} Â· ${fields.animal_type||''} Â· ${fields.mbti||''}`;
        renderGrid();
        showStatus('pSaveStatus','âœ… ì €ì¥ë¨','success');
      } else { showStatus('pSaveStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('pSaveStatus',`âŒ ${e.message}`,'error'); }
    btn.disabled = false; btn.innerHTML = 'ğŸ’¾ ì €ì¥';
  }

  // ===== ì´ë¯¸ì§€ ì—…ë¡œë“œ =====
  async function uploadImage() {
    if (!selectedChar) return;
    const input = document.getElementById('pImgFile');
    const file = input.files?.[0];
    if (!file) return;
    showStatus('pImgStatus','ì—…ë¡œë“œ ì¤‘...','info');
    const form = new FormData();
    form.append('image', file);
    form.append('character_id', selectedChar.id);
    try {
      const r = await fetch(API + '/admin/upload-image', {
        method:'POST', headers:{'X-Admin-Key':ADMIN_KEY}, body:form
      });
      const d = await r.json();
      if (d.ok) {
        selectedChar.image_url = d.image_url;
        document.getElementById('pAvatar').innerHTML = `<img src="${esc(d.image_url)}" alt="">`;
        renderGrid();
        showStatus('pImgStatus','âœ… ì—…ë¡œë“œ ì™„ë£Œ','success');
      } else { showStatus('pImgStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('pImgStatus',`âŒ ${e.message}`,'error'); }
    input.value = '';
  }

  // ===== ê³µì§€ì‚¬í•­ (ì„ ìƒë‹˜ ê³ ì •) =====
  async function publishNotice() {
    const title = document.getElementById('noticeTitle').value.trim();
    const body  = document.getElementById('noticeBody').value.trim();
    if (!title || !body) { showStatus('noticeStatus','ì œëª©/ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”','error'); return; }
    const teacher = characters.find(c => c.group_type === 'teacher');
    if (!teacher) { showStatus('noticeStatus','ì„ ìƒë‹˜ ìºë¦­í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”','error'); return; }
    showStatus('noticeStatus','ë“±ë¡ ì¤‘...','info');
    try {
      const r = await adminFetch('/system/posts',{method:'POST',body:JSON.stringify({system_user_id:teacher.id,title,body,is_notice:true})});
      const d = await r.json();
      if (d.ok) {
        document.getElementById('noticeTitle').value = '';
        document.getElementById('noticeBody').value = '';
        showStatus('noticeStatus','âœ… ê³µì§€ ë“±ë¡ ì™„ë£Œ','success');
      } else { showStatus('noticeStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('noticeStatus',`âŒ ${e.message}`,'error'); }
  }

  // ===== ê²Œì‹œê¸€ ê´€ë¦¬ =====
  async function loadManagePosts() {
    const wrap = document.getElementById('manageList');
    wrap.innerHTML = '<div style="color:var(--sub);font-size:13px;">ë¡œë”© ì¤‘...</div>';
    await loadFeed(30);
    if (!cachedFeed.length) { wrap.innerHTML = '<div style="color:var(--sub);font-size:13px;">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</div>'; return; }
    wrap.innerHTML = cachedFeed.map(p => `
      <div class="manage-item" id="mpost-${p.id}">
        <div class="manage-emoji">${p.character_emoji||'ğŸ‘¤'}</div>
        <div class="manage-info">
          <div class="manage-title">${esc(p.title||(p.body||'').slice(0,40)||'ì œëª©ì—†ìŒ')}</div>
          <div class="manage-meta">${esc(p.character_name||'ìµëª…')} Â· ì•¼ë¥´ ${p.yar_count||0} Â· ëŒ“ê¸€ ${p.comment_count||0} Â· ${relTime(p.created_at)}</div>
        </div>
        <button class="manage-del" onclick="deletePost(${p.id})">ì‚­ì œ</button>
      </div>`).join('');
  }

  async function deletePost(postId) {
    if (!confirm('ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí• ê¹Œìš”?')) return;
    try {
      const r = await adminFetch(`/admin/posts/${postId}`,{method:'DELETE'});
      const d = await r.json();
      if (d.ok) {
        document.getElementById(`mpost-${postId}`)?.remove();
        cachedFeed = cachedFeed.filter(p => p.id !== postId);
        if (selectedChar) renderPostPicker();
      } else { alert(`ì‚­ì œ ì‹¤íŒ¨: ${d.error}`); }
    } catch (e) { alert(`ì˜¤ë¥˜: ${e.message}`); }
  }

  // ===== AI ê²Œì‹œê¸€ =====
  function clearPost() {
    document.getElementById('aiTitle').value = '';
    document.getElementById('aiBody').value = '';
  }

  async function generatePost() {
    if (!selectedChar) { alert('ìºë¦­í„°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”'); return; }
    const btn = document.getElementById('btnGenPost');
    btn.disabled = true; btn.innerHTML = '<span class="spin"></span> ìƒì„±ì¤‘';
    showStatus('aiPostStatus', `${selectedChar.display_name} ê¸€ ìƒì„± ì¤‘...`, 'info');
    try {
      const r = await adminFetch('/admin/generate-post',{method:'POST',body:JSON.stringify({character_id:selectedChar.id})});
      const d = await r.json();
      if (d.ok) {
        document.getElementById('aiTitle').value = d.title||'';
        document.getElementById('aiBody').value  = d.body||'';
        showStatus('aiPostStatus','âœ… ìƒì„± ì™„ë£Œ (ìˆ˜ì • í›„ ê²Œì‹œ ê°€ëŠ¥)','success');
      } else { showStatus('aiPostStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('aiPostStatus',`âŒ ${e.message}`,'error'); }
    btn.disabled = false; btn.innerHTML = 'âœ¨ ìƒì„±';
  }

  async function publishPost() {
    if (!selectedChar) { alert('ìºë¦­í„°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”'); return; }
    const title = document.getElementById('aiTitle').value.trim();
    const body  = document.getElementById('aiBody').value.trim();
    if (!title || !body) { showStatus('aiPostStatus','ì œëª©/ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”','error'); return; }
    const btn = document.getElementById('btnPubPost');
    btn.disabled = true; btn.innerHTML = '<span class="spin"></span> ê²Œì‹œì¤‘';
    showStatus('aiPostStatus','ê²Œì‹œ ì¤‘...','info');
    try {
      const r = await adminFetch('/system/posts',{method:'POST',body:JSON.stringify({system_user_id:selectedChar.id,title,body})});
      const d = await r.json();
      if (d.ok) {
        showStatus('aiPostStatus','âœ… ê²Œì‹œ ì™„ë£Œ','success');
        clearPost();
        await loadFeed(30); renderPostPicker(); loadManagePosts();
      } else { showStatus('aiPostStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('aiPostStatus',`âŒ ${e.message}`,'error'); }
    btn.disabled = false; btn.innerHTML = 'ğŸ“¤ ê²Œì‹œ';
  }

  // ===== í¬ìŠ¤íŠ¸ í”¼ì»¤ =====
  function renderPostPicker() {
    const wrap = document.getElementById('postPicker');
    if (!cachedFeed.length) { wrap.innerHTML = '<div style="color:var(--sub);font-size:13px;">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</div>'; return; }
    wrap.innerHTML = cachedFeed.map(p => `
      <div class="postitem ${String(selectedPostId)===String(p.id)?'selected':''}" onclick="selectPost(${p.id})">
        <div class="postitem-title">${esc((p.character_emoji||'ğŸ‘¤')+' '+(p.title||(p.body||'').slice(0,30)||'ì œëª©ì—†ìŒ'))}</div>
        <div class="postitem-meta">${esc(p.character_name||'ìµëª…')} Â· ëŒ“ê¸€ ${p.comment_count||0}</div>
      </div>`).join('');
  }

  function selectPost(id) { selectedPostId = id; renderPostPicker(); }

  // ===== AI ëŒ“ê¸€ =====
  async function generateComment() {
    if (!selectedChar) { alert('ìºë¦­í„°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”'); return; }
    if (!selectedPostId) { showStatus('aiCommentStatus','ê²Œì‹œê¸€ì„ ì„ íƒí•˜ì„¸ìš”','error'); return; }
    const btn = document.getElementById('btnGenComment');
    btn.disabled = true; btn.innerHTML = '<span class="spin"></span> ìƒì„±ì¤‘';
    showStatus('aiCommentStatus','ëŒ“ê¸€ ìƒì„± ì¤‘...','info');
    try {
      const r = await adminFetch('/admin/generate-comment',{method:'POST',body:JSON.stringify({post_id:selectedPostId,character_id:selectedChar.id})});
      const d = await r.json();
      if (d.ok) {
        document.getElementById('aiComment').value = d.comment||'';
        showStatus('aiCommentStatus','âœ… ìƒì„± ì™„ë£Œ (ìˆ˜ì • í›„ ê²Œì‹œ ê°€ëŠ¥)','success');
      } else { showStatus('aiCommentStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('aiCommentStatus',`âŒ ${e.message}`,'error'); }
    btn.disabled = false; btn.innerHTML = 'âœ¨ ëŒ“ê¸€ ìƒì„±';
  }

  async function publishComment() {
    if (!selectedChar) { alert('ìºë¦­í„°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”'); return; }
    if (!selectedPostId) { showStatus('aiCommentStatus','ê²Œì‹œê¸€ì„ ì„ íƒí•˜ì„¸ìš”','error'); return; }
    const body = document.getElementById('aiComment').value.trim();
    if (!body) { showStatus('aiCommentStatus','ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”','error'); return; }
    const btn = document.getElementById('btnPubComment');
    btn.disabled = true; btn.innerHTML = '<span class="spin"></span> ê²Œì‹œì¤‘';
    showStatus('aiCommentStatus','ê²Œì‹œ ì¤‘...','info');
    try {
      const r = await adminFetch('/admin/system-comment',{method:'POST',body:JSON.stringify({post_id:selectedPostId,system_user_id:selectedChar.id,body})});
      const d = await r.json();
      if (d.ok) {
        document.getElementById('aiComment').value = '';
        showStatus('aiCommentStatus','âœ… ëŒ“ê¸€ ê²Œì‹œ ì™„ë£Œ','success');
        await loadFeed(30); renderPostPicker(); loadManagePosts();
      } else { showStatus('aiCommentStatus',`âŒ ${d.error}`,'error'); }
    } catch (e) { showStatus('aiCommentStatus',`âŒ ${e.message}`,'error'); }
    btn.disabled = false; btn.innerHTML = 'ğŸ“¤ ëŒ“ê¸€ ê²Œì‹œ';
  }

  // ===== 24ëª… í´ë°± =====
  const MOCK_CHARS = [
    {id:1, display_name:'ì„ì¼í›„',   emoji:'ğŸ¦†', group_type:'kindergarten', animal_type:'ì˜¤ë¦¬',     gender:'ê³ ì',   mbti:'ENTP', likes:'ì•„ì´ëŒ',   hobby:'ëˆ•ê¸°',         personality:'ì…ì´ ê¸¸ë‹¤',             speech_style:'ì•„ì´ëŒ ì´ì•¼ê¸°ë¥¼ ìì£¼í•˜ëŠ” í¸ì•ˆí•œ ë§íˆ¬'},
    {id:2, display_name:'ì¨©êµ¬ë¦¬',   emoji:'ğŸ¸', group_type:'kindergarten', animal_type:'ê°œêµ¬ë¦¬',   gender:'female', mbti:'ESTP', likes:'ê²Œì„',     hobby:'ê°œêµ´ê±°ë¦¬ê¸°',   personality:'ë‚˜ë¹„ë„¥íƒ€ì´ë¥¼ ë©”ê³ ìˆìŒ', speech_style:'í™œë°œí•˜ê³  ê²Œì„ ì´ì•¼ê¸° ë§ì´ í•¨'},
    {id:3, display_name:'ì¨©ê·œë¦¬',   emoji:'ğŸ¸', group_type:'kindergarten', animal_type:'ê°œêµ¬ë¦¬',   gender:'female', mbti:'ENFP', likes:'ë†€ê¸°',     hobby:'ì¥ë‚œì¹˜ê¸°',     personality:'í‰ë²”í•˜ë‹¤',              speech_style:'ì¥ë‚œìŠ¤ëŸ½ê³  ì¬ë¯¸ìˆëŠ” ë§íˆ¬'},
    {id:4, display_name:'ë£¨í”¼',     emoji:'ğŸ¦«', group_type:'kindergarten', animal_type:'ë¹„ë²„',     gender:'male',   mbti:'INTP', likes:'ê±¸ê·¸ë£¹',   hobby:'í‚¥ë³µì‹±',       personality:'ì œì¼ëš±ëš±',              speech_style:'ì°¨ë¶„í•˜ì§€ë§Œ ê±¸ê·¸ë£¹ ì´ì•¼ê¸°ë§Œ ë‚˜ì˜¤ë©´ ì‹ ë‚¨'},
    {id:5, display_name:'ì•¼ì½”',     emoji:'ğŸ·', group_type:'kindergarten', animal_type:'ë¼ì§€',     gender:'male',   mbti:'ENFP', likes:'ë¯¼ì´ˆ',     hobby:'ë¯¼ì´ˆë¨¹ê¸°',     personality:'ì‚¬ë™ì´í˜•',              speech_style:'ë°ê³  ì¥ë‚œê¸° ë§ì€ ë§íˆ¬, ë¯¼ì´ˆ ë•í›„'},
    {id:6, display_name:'ìš°ì‚¬ê¸°',   emoji:'ğŸ°', group_type:'kindergarten', animal_type:'í† ë¼',     gender:'female', mbti:'ISTP', likes:'ê³µë¶€',     hobby:'ê³µë¶€',         personality:'ëˆ„ë ‡ë‹¤',                speech_style:'ì§„ì§€í•˜ê³  ê³µë¶€ ì´ì•¼ê¸°ë§Œ í•¨'},
    {id:7, display_name:'ì¨©ë‹´ê³°',   emoji:'ğŸ»', group_type:'kindergarten', animal_type:'ê³°',       gender:'female', mbti:'ISTJ', likes:'ì²œì¬',     hobby:'ì ìê¸°',       personality:'ì…ì´ì‚ì ¸ìˆë‹¤',          speech_style:'ë˜‘ë˜‘í•œ ì²™í•˜ëŠ” ë§íˆ¬'},
    {id:8, display_name:'ì¨©ë¹¤ì®¸',   emoji:'ğŸ°', group_type:'kindergarten', animal_type:'í† ë¼',     gender:'female', mbti:'ENFP', likes:'íŒ¬í‹°',     hobby:'ë³µì‹±',         personality:'íŒ¬í‹°ë§Œì…ìŒ',            speech_style:'íŒ¬í‹° ì´ì•¼ê¸°ë¥¼ ìì£¼í•˜ëŠ” ê·€ì—¬ìš´ ë§íˆ¬'},
    {id:9, display_name:'ì¨©ì„¤',     emoji:'ğŸ¯', group_type:'kindergarten', animal_type:'í˜¸ë‘ì´',   gender:'female', mbti:'ENFP', likes:'ìŠ¤í‚¤',     hobby:'íƒœê¶Œë„',       personality:'í•˜ì–Œ',                  speech_style:'ìš´ë™ ì´ì•¼ê¸°ë¥¼ ì¢‹ì•„í•˜ëŠ” í™œë°œí•œ ë§íˆ¬'},
    {id:10,display_name:'ì¹˜ì´ì¹´ì™€', emoji:'ğŸ»', group_type:'kindergarten', animal_type:'ê³°',       gender:'female', mbti:'ENFP', likes:'ìš”ì¿ ë¥´íŠ¸', hobby:'ìš”êµ¬ë¥´íŠ¸ ë¨¹ê¸°',personality:'í•˜ì–Œ',                  speech_style:'ìš”ì¿ ë¥´íŠ¸ ì´ì•¼ê¸°ë¥¼ ìì£¼í•˜ëŠ” ê·€ì—¬ìš´ ë§íˆ¬'},
    {id:11,display_name:'í•˜ì¹˜ì™€ë ˆ', emoji:'ğŸ±', group_type:'kindergarten', animal_type:'ê³ ì–‘ì´',   gender:'female', mbti:'ENFP', likes:'ê·€ì—¬ìš´ê±°', hobby:'ë…¸ë˜',         personality:'ê·€ì—¬ì›€',                speech_style:'ê·€ì—½ê³  ë°ì€ ë§íˆ¬'},
    {id:12,display_name:'ì¨©ë¬¸ì–´',   emoji:'ğŸ™', group_type:'kindergarten', animal_type:'ë°˜ì „ë¬¸ì–´', gender:'female', mbti:'ENFP', likes:'ì°©í•œê±°',   hobby:'ë…¸ë˜ë¶€ë¥´ê¸°',   personality:'ì œì¼í°ë¬¸ì–´',            speech_style:'ë°ê³  ê¸ì •ì ì¸ ë§íˆ¬'},
    {id:13,display_name:'ì¨©ìŠ',     emoji:'ğŸ¦§', group_type:'kindergarten', animal_type:'ì˜¤ë‘ìš°íƒ„', gender:'female', mbti:'ENFP', likes:'ë¦¬ë“¬ì²´ì¡°', hobby:'ë¨¹ê¸°',         personality:'ë°°ê°€ë‚˜ì˜´',              speech_style:'ë¨¹ëŠ” ê²ƒê³¼ ë¦¬ë“¬ì²´ì¡° ì´ì•¼ê¸°ë¥¼ ì¢‹ì•„í•¨'},
    {id:14,display_name:'ì¨©ì†¡',     emoji:'ğŸ¦§', group_type:'kindergarten', animal_type:'ì˜¤ë‘ìš°íƒ„', gender:'female', mbti:'ENFP', likes:'ë®¤ì§€ì»¬',   hobby:'íŠ¸ë¡¯íŠ¸ë¶€ë¥´ê¸°', personality:'ë°°ê°€ë‚˜ì˜´',              speech_style:'ë…¸ë˜ì™€ ë®¤ì§€ì»¬ ì´ì•¼ê¸°ë¥¼ ì¢‹ì•„í•¨'},
    {id:15,display_name:'ë£¹í¬',     emoji:'ğŸ¦«', group_type:'daycare',       animal_type:'ë¹„ë²„',     gender:'female', mbti:'ENFP', likes:'ì¹˜í‚¨',     hobby:'ê¶Œíˆ¬',         personality:'ì¤‘ê°„ëš±ëš±',              speech_style:'ì¹˜í‚¨ ì´ì•¼ê¸°ì™€ ê¶Œíˆ¬ ì´ì•¼ê¸°ë¥¼ ì¢‹ì•„í•¨'},
    {id:16,display_name:'ë¤‚ì´',     emoji:'ğŸ¦«', group_type:'daycare',       animal_type:'ë¹„ë²„',     gender:'female', mbti:'ESTJ', likes:'ìŒì ˆê³¤',   hobby:'ìŒì ˆê³¤',       personality:'ë§ˆë¦„',                  speech_style:'ìŒì ˆê³¤ê³¼ ë¬´ìˆ  ì´ì•¼ê¸°ë¥¼ ì¢‹ì•„í•¨'},
    {id:17,display_name:'ì‚¬ë™',     emoji:'ğŸ·', group_type:'daycare',       animal_type:'ë¼ì§€',     gender:'male',   mbti:'ENFP', likes:'ë°±ì„¤ì´',   hobby:'ìœ íŠœë¸Œë³´ê¸°',   personality:'ì¼ë¯¼ì´',                speech_style:'ë°±ì„¤ì´ì™€ ìœ íŠœë¸Œ ì´ì•¼ê¸°ë¥¼ ìì£¼ í•¨'},
    {id:18,display_name:'ì¨©ë§Œë“€',   emoji:'ğŸ™', group_type:'daycare',       animal_type:'ë°˜ì „ë¬¸ì–´', gender:'female', mbti:'ISTP', likes:'ê¹¨ë—í•œê±°', hobby:'ê·¸ë¦¼ê·¸ë¦¬ê¸°',   personality:'ì œì¼ì‘ë‹¤',              speech_style:'ê¹¨ë—í•œ ê²ƒì„ ì¢‹ì•„í•˜ê³  ê·¸ë¦¼ ì´ì•¼ê¸°ë¥¼ í•¨'},
    {id:19,display_name:'ì¨©ë§Œì¥¬',   emoji:'ğŸ™', group_type:'daycare',       animal_type:'ë°˜ì „ë¬¸ì–´', gender:'female', mbti:'ISTP', likes:'ë§›ìˆëŠ”ê±°', hobby:'ë¨¹ê¸°',         personality:'ì¤‘ê°„ì‚¬ì´ì¦ˆë‹¤',          speech_style:'ë¨¹ëŠ” ì´ì•¼ê¸°ë¥¼ ìì£¼í•˜ëŠ” ê·€ì—¬ìš´ ë§íˆ¬'},
    {id:20,display_name:'ì¨©ë¬´ë„ˆ',   emoji:'ğŸ™', group_type:'daycare',       animal_type:'ë°˜ì „ë¬¸ì–´', gender:'female', mbti:'ISTP', likes:'ë†€ê¸°',     hobby:'ë†€ê¸°',         personality:'ì¨©ë§Œì¥¬ì™€ì‚¬ì´ì¦ˆê°€ë˜‘ê°™ë‹¤',speech_style:'ëŠ˜ ë†€ê³  ì‹¶ì–´í•˜ëŠ” í™œë°œí•œ ë§íˆ¬'},
    {id:21,display_name:'ì¨©ì„œë¹ˆ',   emoji:'ğŸ¦›', group_type:'daycare',       animal_type:'ë² ë êµ¬ì–´', gender:'female', mbti:'ENFP', likes:'ìª½ìª½ì´',   hobby:'ìª½ìª½ì´ë¬¼ê¸°',   personality:'ì• ê¸°ì„',                speech_style:'ì• ê¸° ê°™ì€ ê·€ì—¬ìš´ ë§íˆ¬'},
    {id:22,display_name:'ì¨©í¬ìš©',   emoji:'ğŸ¶', group_type:'daycare',       animal_type:'ê°•ì•„ì§€',   gender:'female', mbti:'ENFP', likes:'íŒ¨ê¸°',     hobby:'íŒ¨ê¸°',         personality:'ê°•ì•„ì§€',                speech_style:'ë³µì‹±ê³¼ íŒ¨ê¸° ì´ì•¼ê¸°ë¥¼ ì¢‹ì•„í•˜ëŠ” í™œë°œí•œ ë§íˆ¬'},
    {id:23,display_name:'ì¨©ì„¸ë¹ˆ',   emoji:'ğŸ¦›', group_type:'daycare',       animal_type:'ë² ë êµ¬ì–´', gender:'female', mbti:'ENFP', likes:'ìˆë†ˆ',     hobby:'ì€ê·¼ì”',       personality:'ì œì¼ì‘ì€ì• ê¸°',          speech_style:'ìê¸°ê°€ ì„¸ë‹¤ê³  ìƒê°í•˜ëŠ” ê·€ì—¬ìš´ ë§íˆ¬'},
    {id:24,display_name:'ì‘¤ê°ˆìŒˆ',   emoji:'ğŸ‘©â€ğŸ«',group_type:'teacher',       animal_type:'ì„ ìƒë‹˜',   gender:'female', mbti:'ENFJ-T',likes:'ì•„ì´ë“¤',  hobby:'ê´€ì°°ë©”ëª¨',     personality:'ë”°ëœ»í•˜ê³  ì„¸ì‹¬í•œ ê´€ì°°ì',speech_style:'ë”°ëœ»í•˜ê³  ì¡°ìš©íˆ ê´€ì°°í•˜ëŠ” ë§íˆ¬'},
  ];
</script>
</body>
</html>
